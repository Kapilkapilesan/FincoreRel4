(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},13477,e=>{"use strict";var t=e.i(64397);let a={credentials:"include"};e.s(["branchService",0,{getBranchesAll:async()=>{let e=await fetch(`${t.API_BASE_URL}/branches/all`,{...a,headers:(0,t.getHeaders)()});if(!e.ok)throw Error(`Failed to fetch branches: ${e.statusText}`);return(await e.json()).data},getBranches:async()=>{let e=await fetch(`${t.API_BASE_URL}/branches`,{...a,headers:(0,t.getHeaders)()});if(!e.ok)throw Error(`Failed to fetch branches: ${e.statusText}`);return(await e.json()).data},getBranchById:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches/${e}`,{...a,headers:(0,t.getHeaders)()});if(!r.ok)throw Error("Failed to fetch branch details");return(await r.json()).data},createBranch:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches`,{method:"POST",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(e)}),s=await r.json();if(!r.ok){if(422===r.status||409===r.status){let e=Error(s.message||"Validation failed");throw e.errors=s.errors,e}throw Error(s.message||"Failed to create branch")}return s.data},updateBranch:async(e,r)=>{let s=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(r)}),i=await s.json();if(!s.ok){if(422===s.status||409===s.status){let e=Error(i.message||"Validation failed");throw e.errors=i.errors,e}throw Error(i.message||"Failed to update branch")}return i.data},deleteBranch:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"DELETE",...a,headers:(0,t.getHeaders)()});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"Failed to delete branch")},toggleBranchStatus:async(e,r)=>{let s="active"===r.toLowerCase()?"inactive":"active",i=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify({status:s})}),n=await i.json();if(!i.ok){if(422===i.status||409===i.status){let e=Error(n.error||n.message||"Validation failed");throw e.errors=n.errors,e}throw Error(n.error||n.message||"Failed to update status")}return n.data}}])},658,e=>{"use strict";var t=e.i(64397);let a={credentials:"include"};async function r(e){let t=e.headers.get("content-type")?.includes("application/json")?await e.json():null;if(!e.ok){if(t&&(422===e.status||409===e.status)){let e=Error(t.error||t.message||"Validation failed");throw e.errors=t.errors,e}let a=t&&(t.error||t.message)||e.statusText;throw Error(`API Error ${e.status}: ${a}`)}return t.data}e.s(["centerService",0,{getCenters:async()=>{try{let e=await fetch(`${t.API_BASE_URL}/centers`,{...a,headers:(0,t.getHeaders)()});return r(e)}catch(e){return console.error("Error fetching centers:",e),[]}},getCenterById:async e=>r(await fetch(`${t.API_BASE_URL}/centers/${e}`,{...a,headers:(0,t.getHeaders)()})),createCenter:async e=>r(await fetch(`${t.API_BASE_URL}/centers`,{method:"POST",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(e)})),updateCenter:async(e,s)=>r(await fetch(`${t.API_BASE_URL}/centers/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(s)})),deleteCenter:async e=>{let r=await fetch(`${t.API_BASE_URL}/centers/${e}`,{method:"DELETE",...a,headers:(0,t.getHeaders)()});if(!r.ok){let e=r.headers.get("content-type")?.includes("application/json")?await r.json():null,t=e&&e.message||r.statusText;throw Error(`Delete failed ${r.status}: ${t}`)}},approveCenter:async e=>r(await fetch(`${t.API_BASE_URL}/centers/${e}/approve`,{method:"PATCH",...a,headers:(0,t.getHeaders)()})),rejectCenter:async(e,r)=>{let s=await fetch(`${t.API_BASE_URL}/centers/${e}/reject`,{method:"POST",...a,headers:(0,t.getHeaders)(),body:JSON.stringify({rejection_reason:r})});if(!s.ok){let e=s.headers.get("content-type")?.includes("application/json")?await s.json():null,t=e&&e.message||s.statusText;throw Error(`Rejection failed ${s.status}: ${t}`)}},toggleCenterStatus:async(e,s)=>{let i="active"===s.toLowerCase()?"disabled":"active";return r(await fetch(`${t.API_BASE_URL}/centers/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify({status:i})}))}}])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},17287,14763,e=>{"use strict";var t=e.i(64397);e.s(["collectionService",0,{getDuePayments:async(e,a,r)=>{let s=new URL(`${t.API_BASE_URL}/collections/due`);s.searchParams.append("branch_id",e),a&&s.searchParams.append("CSU_id",a),r&&s.searchParams.append("date",r);let i=await fetch(s.toString(),{method:"GET",headers:(0,t.getHeaders)()}),n=await i.json();if(!i.ok)throw Error(n.message||"Failed to fetch due payments");return n.data},collectPayment:async e=>{let a=await fetch(`${t.API_BASE_URL}/collections/collect`,{method:"POST",headers:(0,t.getHeaders)(),body:JSON.stringify(e)}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to collect payment");return r.data},getPaymentHistory:async e=>{let a=await fetch(`${t.API_BASE_URL}/collections/history/${e}`,{method:"GET",headers:(0,t.getHeaders)()}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to fetch payment history");return r.data},requestReceiptCancellation:async(e,a)=>{let r=await fetch(`${t.API_BASE_URL}/receipts/${e}/cancel-request`,{method:"POST",headers:(0,t.getHeaders)(),body:JSON.stringify({reason:a})}),s=await r.json();if(!r.ok)throw Error(s.message||"Failed to request cancellation");return s.data},approveReceiptCancellation:async e=>{let a=await fetch(`${t.API_BASE_URL}/receipts/${e}/approve-cancel`,{method:"POST",headers:(0,t.getHeaders)()}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to approve cancellation");return r.data},rejectReceiptCancellation:async e=>{let a=await fetch(`${t.API_BASE_URL}/receipts/${e}/reject-cancel`,{method:"POST",headers:(0,t.getHeaders)()}),r=await a.json();if(!a.ok)throw Error(r.message||"Failed to reject cancellation");return r.data},getPendingCancellations:async()=>{let e=await fetch(`${t.API_BASE_URL}/receipts/pending-cancellations`,{method:"GET",headers:(0,t.getHeaders)()}),a=await e.json();if(!e.ok)throw Error(a.message||"Failed to fetch pending cancellations");return a.data},exportCollections:async(e,a,r)=>{let s=new URL(`${t.API_BASE_URL}/collections/export`);s.searchParams.append("branch_id",e),a&&s.searchParams.append("CSU_id",a),r&&s.searchParams.append("date",r);let i=await fetch(s.toString(),{method:"GET",headers:(0,t.getHeaders)()});if(!i.ok)throw Error((await i.json().catch(()=>({}))).message||"Failed to export collections");let n=await i.blob(),c=window.URL.createObjectURL(n),o=document.createElement("a");o.href=c,o.download=`collection_summary_${r||new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(c),document.body.removeChild(o)}}],17287);var a=e.i(43476),r=e.i(71645),s=e.i(95468),i=e.i(63209),n=e.i(31278);function c({isOpen:e,onClose:t,onConfirm:c,title:o,message:d,confirmLabel:l,variant:h="success"}){let[u,g]=r.default.useState(!1);if(!e)return null;let m=async()=>{g(!0);try{await c(),t()}catch(e){console.error("Action failed:",e)}finally{g(!1)}},f={success:{icon:(0,a.jsx)(s.CheckCircle2,{className:"w-6 h-6 text-emerald-600"}),bg:"bg-emerald-50",button:"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-100"},danger:{icon:(0,a.jsx)(i.AlertCircle,{className:"w-6 h-6 text-red-600"}),bg:"bg-red-50",button:"bg-red-600 hover:bg-red-700 shadow-red-100"},warning:{icon:(0,a.jsx)(i.AlertCircle,{className:"w-6 h-6 text-amber-600"}),bg:"bg-amber-50",button:"bg-amber-600 hover:bg-amber-700 shadow-amber-100"}}[h];return(0,a.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 border border-gray-100",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:`w-14 h-14 ${f.bg} rounded-2xl flex items-center justify-center mx-auto mb-4`,children:f.icon}),(0,a.jsx)("h3",{className:"text-xl font-black text-gray-900 mb-2",children:o}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium leading-relaxed mb-6",children:d}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"flex-1 px-5 py-3 bg-gray-100 text-gray-600 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-gray-200 transition-all",children:"Cancel"}),(0,a.jsxs)("button",{onClick:m,disabled:u,className:`flex-1 flex items-center justify-center gap-2 px-5 py-3 ${f.button} text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all shadow-lg disabled:opacity-50`,children:[u?(0,a.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):null,l]})]})]})})})}e.s(["ActionConfirmModal",()=>c],14763)}]);