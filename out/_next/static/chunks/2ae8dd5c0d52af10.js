(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},13477,e=>{"use strict";var t=e.i(64397);let a={credentials:"include"};e.s(["branchService",0,{getBranchesAll:async()=>{let e=await fetch(`${t.API_BASE_URL}/branches/all`,{...a,headers:(0,t.getHeaders)()});if(!e.ok)throw Error(`Failed to fetch branches: ${e.statusText}`);return(await e.json()).data},getBranches:async()=>{let e=await fetch(`${t.API_BASE_URL}/branches`,{...a,headers:(0,t.getHeaders)()});if(!e.ok)throw Error(`Failed to fetch branches: ${e.statusText}`);return(await e.json()).data},getBranchById:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches/${e}`,{...a,headers:(0,t.getHeaders)()});if(!r.ok)throw Error("Failed to fetch branch details");return(await r.json()).data},createBranch:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches`,{method:"POST",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(e)}),s=await r.json();if(!r.ok){if(422===r.status||409===r.status){let e=Error(s.message||"Validation failed");throw e.errors=s.errors,e}throw Error(s.message||"Failed to create branch")}return s.data},updateBranch:async(e,r)=>{let s=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify(r)}),i=await s.json();if(!s.ok){if(422===s.status||409===s.status){let e=Error(i.message||"Validation failed");throw e.errors=i.errors,e}throw Error(i.message||"Failed to update branch")}return i.data},deleteBranch:async e=>{let r=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"DELETE",...a,headers:(0,t.getHeaders)()});if(!r.ok)throw Error((await r.json().catch(()=>({}))).message||"Failed to delete branch")},toggleBranchStatus:async(e,r)=>{let s="active"===r.toLowerCase()?"inactive":"active",i=await fetch(`${t.API_BASE_URL}/branches/${e}`,{method:"PUT",...a,headers:(0,t.getHeaders)(),body:JSON.stringify({status:s})}),d=await i.json();if(!i.ok){if(422===i.status||409===i.status){let e=Error(d.error||d.message||"Validation failed");throw e.errors=d.errors,e}throw Error(d.error||d.message||"Failed to update status")}return d.data}}])},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},77705,e=>{"use strict";let t=(0,e.i(75254).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},93845,e=>{"use strict";var t=e.i(64397);let a={getUsers:async(e="admins")=>{try{let a="admins"===e?`${t.API_BASE_URL}/admins`:`${t.API_BASE_URL}/users`,r=await fetch(a,{headers:(0,t.getHeaders)()});if(!r.ok)return[];let s=await r.json(),i=[];return s?.data?.items&&Array.isArray(s.data.items)?i=s.data.items:s?.data&&Array.isArray(s.data)?i=s.data:s?.data?.data&&Array.isArray(s.data.data)?i=s.data.data:Array.isArray(s)&&(i=s),i.map(e=>({id:e.id,name:e.full_name||e.user_name||e.name||e.email,staffId:e.user_name&&/^ST\d+/.test(e.user_name)?e.user_name:void 0,email:e.email,role:e.roles&&e.roles.length>0?e.roles[0].display_name||e.roles[0].name:e.role||"N/A",branch:e.branch?.name||(e.branch_id?"Branch "+e.branch_id:"-"),branchId:e.branch_id||null,status:e.is_active||"Active"===e.status||1===e.status?"Active":"Inactive",is_locked:e.is_locked||!1,locked_until:e.locked_until||null,today_session:e.today_session||null}))}catch(e){return console.error("Error fetching users",e),[]}},getStaffList:async()=>{try{let e=await fetch(`${t.API_BASE_URL}/staffs`,{headers:(0,t.getHeaders)()});if(!e.ok)return[];return(await e.json()).data||[]}catch(e){return console.error("Error fetching staff list",e),[]}},getStaffDropdownList:async()=>{try{let e=await fetch(`${t.API_BASE_URL}/staffs/list`,{headers:(0,t.getHeaders)()});if(!e.ok)return[];return(await e.json()).data||[]}catch(e){return console.error("Error fetching staff dropdown list",e),[]}},getWitnessCandidates:async()=>{try{let e=["manager","field_officer","staff"].map(e=>fetch(`${t.API_BASE_URL}/staffs/by-role/${e}`,{headers:(0,t.getHeaders)()}).then(e=>e.ok?e.json():{data:[]}).catch(()=>({data:[]}))),a=await Promise.all(e),r=[],s=new Set;return a.forEach(e=>{e.data&&Array.isArray(e.data)&&e.data.forEach(e=>{e.staff_id&&!s.has(e.staff_id)&&(s.add(e.staff_id),r.push({staff_id:e.staff_id,full_name:e.full_name||e.name,email_id:e.email_id||""}))})}),r}catch(e){return console.error("Error fetching witness candidates",e),[]}},getPermissions:async()=>[{module:"Dashboard",view:!0,create:!0,edit:!0,delete:!1},{module:"Customers",view:!0,create:!0,edit:!0,delete:!1},{module:"Loans",view:!0,create:!0,edit:!0,delete:!1},{module:"Collections",view:!0,create:!0,edit:!1,delete:!1},{module:"Reports",view:!0,create:!1,edit:!1,delete:!1},{module:"Finance",view:!0,create:!0,edit:!0,delete:!0},{module:"Shareholders",view:!0,create:!0,edit:!0,delete:!0},{module:"System Config",view:!0,create:!0,edit:!0,delete:!0}],createAdmin:async e=>{let a=await fetch(`${t.API_BASE_URL}/admins`,{method:"POST",headers:(0,t.getHeaders)(),body:JSON.stringify(e)}),r=await a.json();if(!a.ok)throw Error(r.errors?Object.values(r.errors).flat().join(", "):r.message||"Failed to create admin");return r},createUser:async e=>{let r=e.role?.toLowerCase()||"";if(r.includes("admin")||"super_admin"===r)return a.createAdmin(e);if(e.staffDetails){let a=await fetch(`${t.API_BASE_URL}/staffs`,{method:"POST",headers:(0,t.getHeaders)(),body:JSON.stringify(e.staffDetails)}),r=await a.json();if(!a.ok)throw Error(r.errors?Object.values(r.errors).flat().join(", "):r.message||"Failed to create staff");return r}let s={user_name:e.name?e.name.replace(/\s+/g,"").toLowerCase()+Math.floor(1e3*Math.random()):e.email.split("@")[0],email:e.email,password:e.password,password_confirmation:e.password,is_active:!0,roles:[parseInt(e.roleId)]},i=await fetch(`${t.API_BASE_URL}/users`,{method:"POST",headers:(0,t.getHeaders)(),body:JSON.stringify(s)}),d=await i.json();if(!i.ok)throw Error(d.errors?Object.values(d.errors).flat().join(", "):d.message||`Failed to create ${r}`);return d},getAllRoles:async()=>{let e=await fetch(`${t.API_BASE_URL}/roles/all`,{headers:(0,t.getHeaders)()});if(!e.ok)throw console.error(`Error fetching roles: ${e.status} ${e.statusText}`),Error(`Failed to fetch roles: ${e.status} ${e.statusText}`);return(await e.json()).data},updateUser:async(e,a)=>{let r=a.role?.toLowerCase()||"";if(a.staffDetails&&a.staffId){let e=await fetch(`${t.API_BASE_URL}/staffs/${a.staffId}`,{method:"PUT",headers:(0,t.getHeaders)(),body:JSON.stringify(a.staffDetails)}),r=await e.json();if(!e.ok)throw Error(r.errors?Object.values(r.errors).flat().join(", "):r.message||"Failed to update staff");return r}let s=r.includes("admin")||r.includes("super")?`${t.API_BASE_URL}/admins/${e}`:`${t.API_BASE_URL}/users/${e}`,i=await fetch(s,{method:"PUT",headers:(0,t.getHeaders)(),body:JSON.stringify(a)}),d=await i.json();if(!i.ok)throw Error(d.errors?Object.values(d.errors).flat().join(", "):d.message||"Failed to update user");return d},getStaffDetails:async e=>{let a=await fetch(`${t.API_BASE_URL}/staffs/${e}`,{headers:(0,t.getHeaders)()});return a.ok?(await a.json()).data:null},deleteUser:async e=>{let a=await fetch(`${t.API_BASE_URL}/users/${e}`,{method:"DELETE",headers:(0,t.getHeaders)()});if(!a.ok)throw Error((await a.json().catch(()=>({}))).message||"Failed to delete user")}};e.s(["staffService",0,a])},70756,e=>{"use strict";let t=(0,e.i(75254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},43432,e=>{"use strict";let t=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],43432)},42920,e=>{"use strict";let t=(0,e.i(75254).default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);e.s(["Building",()=>t],42920)},82293,e=>{"use strict";let t=(0,e.i(75254).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>t],82293)},63727,e=>{"use strict";let t=(0,e.i(75254).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>t],63727)}]);